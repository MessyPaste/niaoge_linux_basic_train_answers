# Chapter5 æƒé™
## P72  æœ€å°æƒé™
![](Chapter5%20%E6%9D%83%E9%99%90/4B504B27-68F9-4C2D-BEF6-A0EA03013672.png)
å¯æ€»ç»“å¦‚ä¸‹ï¼šå¦‚æœéœ€è¦è¿›å…¥ä¸€ä¸ªç›®å½•å¹¶ä¸”åˆ—ä¸¾å‡ºæ¥é‚£ä¹ˆå°±éœ€è¦r-xï¼Œç¬¬ä¸‰æ’ä¸­é—´rw-å…¶å®ä¹Ÿå¯ä»¥æ”¹ä¸º-w-ï¼Œå¯ä»¥ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶å¹¶ä¿å­˜ï¼Œä½†æ˜¯ä½ ä¸çŸ¥é“ä¹‹å‰çš„æ–‡ä»¶å†…å®¹æ˜¯ä»€ä¹ˆã€‚æœ€åä¸€è¡Œï¼Œè™½ç„¶ä½ å¯¹è¿™ä¸ªæ–‡ä»¶file1æ²¡æœ‰ä»»ä½•æƒé™ï¼Œä½†æ˜¯æ–‡ä»¶æ‰€åœ¨æ ¹ç›®å½•æœ‰å¯å†™æƒé™ï¼Œå¯å¯¹æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºã€åˆ é™¤ã€æ›´åæˆ–å˜æ›´æ–‡ä»¶ä½ç½®ã€‚

## P72 ä¾‹é¢˜
### a.  >> ls -l /dev/shm/unit05/dir[0-4]
![](Chapter5%20%E6%9D%83%E9%99%90/BA2C9F42-A076-4994-BEF0-35AF0DF95420.png)
ç¬¬ä¸€ç§permission denied åŸå› ï¼šæ–‡ä»¶å¤¹ç¼ºå°‘xï¼ˆæ‰§è¡Œæƒé™ï¼‰ï¼Œç”¨æˆ·æ— æ³•è¿›å…¥è¯¥ç›®å½•è¿›è¡Œå­˜å–æ“ä½œï¼ˆæ²¡æœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ğŸ”‘ï¼‰
ç¬¬äºŒç§permission denied åŸå› ï¼šæ²¡æœ‰æ–‡ä»¶å¤¹wï¼ˆè¯»å–æƒé™ï¼‰ä¸èƒ½è¯»å–æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶å
### b. >>  ls -l /dev/shm/unit05/dir1/file1 (å°†1æ¢æˆ2 3 4ä¾æ¬¡æ‰§è¡Œ)
ç¬¬ä¸€ç§ï¼š
å‘½ä»¤ï¼šls -l /dev/shm/unit05/dir1/file1
ç»“æœï¼šls: cannot access /dev/shm/unit05/dir1/file1: Permission denied
è§£é‡Šï¼šæ²¡æœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ğŸ”‘ï¼Œè‡ªç„¶ä¸èƒ½è¯»å–ç›®å½•å†…æ–‡ä»¶

ç¬¬äºŒç§ï¼š
å‘½ä»¤ï¼šls -l /dev/shm/unit05/dir2/file2
ç»“æœï¼š-rw-r--r--. 1 root root 158 Nov 29 10:02 /dev/shm/unit05/dir2/file2
è§£é‡Šï¼šæœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ï¼Œä¹Ÿæœ‰æ–‡ä»¶çš„å¯è¯»æƒé™ï¼Œå› æ­¤å¯ä»¥è¯»å‡ºï¼Œæ³¨æ„è¿™é‡Œå’Œç¬¬ä¸€é¢˜çš„åŒºåˆ«ï¼Œç¬¬ä¸€é¢˜æ˜¯æ²¡æœ‰åˆ—å‡ºè¯¥æ–‡ä»¶å†…æ–‡ä»¶åçš„æƒé™ï¼Œå¦‚æœä½ çŸ¥é“è¿™ä¸ªæ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶åï¼Œä¹Ÿæ˜¯å¯ä»¥è¯»å–çš„ã€‚

ç¬¬ä¸‰ç§ï¼š
å‘½ä»¤ï¼šls -l /dev/shm/unit05/dir3/file3
ç»“æœï¼š-rw-rw-rw-. 1 root root 158 Nov 29 10:02 /dev/shm/unit05/dir3/file3
è§£é‡Šï¼šæ–‡ä»¶å¤¹å’Œæ–‡ä»¶éƒ½æ˜¯å¯è¯»çš„ï¼Œè€Œä¸”ä¹Ÿæœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ğŸ”‘ï¼Œæ‰€ä»¥èƒ½è®¿é—®

ç¬¬å››ç§ï¼š
å‘½ä»¤ï¼šls -l /dev/shm/unit05/dir4/file4
ç»“æœï¼š-rw-------. 1 root root 158 Nov 29 10:02 /dev/shm/unit05/dir4/file4
è§£é‡Šï¼šè™½ç„¶å¯¹æ–‡ä»¶æ²¡æœ‰æƒé™ï¼Œä½†æ˜¯æ–‡ä»¶å¤¹æœ‰ræƒé™ï¼Œå¯ä»¥åˆ—å‡ºè¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶åï¼Œä¹Ÿæœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ğŸ”‘ï¼Œæ‰€ä»¥èƒ½è®¿é—®

### c.>> vim /dev/shm/unit05/dir1/file1 (å°†1æ¢æˆ2 3 4ä¾æ¬¡æ‰§è¡Œ)
ç¬¬ä¸€ç§ï¼š
å‘½ä»¤ï¼švim /dev/shm/unit05/dir1/file1
ç»“æœï¼šæ— æ³•è¯»å–ä¸ä¿®æ”¹
è§£é‡Šï¼šæ²¡æœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ğŸ”‘ï¼Œè‡ªç„¶ä¸èƒ½è¯»å–ç›®å½•å†…æ–‡ä»¶

ç¬¬äºŒç§ï¼š
å‘½ä»¤ï¼švim /dev/shm/unit05/dir2/file2
ç»“æœï¼šå¯è¯»ä½†ä¸èƒ½ä¿®æ”¹
è§£é‡Šï¼šæœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ï¼Œä¹Ÿæœ‰æ–‡ä»¶çš„å¯è¯»æƒé™ï¼Œå› æ­¤å¯ä»¥è¯»å‡ºï¼Œä½†æ˜¯å¯¹æ–‡ä»¶æ²¡æœ‰å¯å†™æƒé™

ç¬¬ä¸‰ç§ï¼š
å‘½ä»¤ï¼švim /dev/shm/unit05/dir3/file3
ç»“æœï¼šå¯è¯»å¯å†™
è§£é‡Šï¼šæœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ï¼Œä¹Ÿæœ‰æ–‡ä»¶çš„å¯è¯»å¯å†™æƒé™ï¼Œæ‰€ä»¥å¯è¯»å¯å†™

ç¬¬å››ç§ï¼š
å‘½ä»¤ï¼švim /dev/shm/unit05/dir4/file4
ç»“æœï¼šæ— æ³•è¯»å–ä¸ä¿®æ”¹
è§£é‡Šï¼šæœ‰è¿›å…¥è¯¥ç›®å½•çš„é’¥åŒ™ï¼Œä½†æ— æ–‡ä»¶çš„å¯è¯»å¯å†™æƒé™ï¼Œæ‰€ä»¥æ— æ³•è¯»å†™

## p79
### 1.æ‰¾åˆ°pidä¸º1çš„è¿›ç¨‹å‘½ä»¤
ps --pid 1 
![](Chapter5%20%E6%9D%83%E9%99%90/82B331C0-7B2A-461B-B212-B6CCD617A6AB.png)
CMDå°±æ˜¯è¿›ç¨‹å‘½ä»¤
### 2.åˆ‡æ¢èº«ä»½åæŸ¥çœ‹è¿›ç¨‹å˜åŒ–
åˆ‡æ¢å‰ï¼š
![](Chapter5%20%E6%9D%83%E9%99%90/92B67D58-827D-44BC-9AFC-CDF1AC793699.png)
åˆ‡æ¢åï¼š
![](Chapter5%20%E6%9D%83%E9%99%90/B35814ED-D440-4286-BE55-C379EDCA8778.png)
å¤šäº†ä¸€ä¸ªrootçš„bash
### 3.éœ€è¦ä¸¤æ¬¡exit

### 4.å¯ä»¥ç”¨ pidof crond æˆ–  ps -ef | grep crond

### 5. ps -eo pid,ni,pri
ç”¨man pså¯è§ï¼š
![](Chapter5%20%E6%9D%83%E9%99%90/5BB47469-CCC0-4113-95A0-9810CE087DA6.png)
### 6.ps -eo pid,ni,pri,comm --sort -comm
ä½¿ç”¨â€”sortå‘½ä»¤
### 7.top -d 2 æ§åˆ¶åˆ·æ–°é¢‘ç‡
### 8.è¾“å…¥å¤§å†™På¯ä»¥å¯¹CPUæ’åºï¼Œè¾“å…¥å¤§å†™Må¯ä»¥å¯¹å†…å­˜ä½¿ç”¨é‡æ’åº

## p80
### 1.è¾“å‡ºç‰¹å®šå­—æ®µï¼šps -eo pid,pri,ni,comm 
### 2.æ‰¾åˆ°åˆ¶å®šåç§°çš„pidå·ç ï¼šps -eo pid,pri,ni,comm | grep "crond"
### 3.renice
å‘½ä»¤ï¼šrenice -15 -p 800
è¾“å‡ºï¼š800 (process ID) old priority 0, new priority -15
æˆ‘ä»¬ç”¨â€œ ps -eo pid,pri,ni,comm | grep "crond"â€å†æ¥çœ‹çœ‹
![](Chapter5%20%E6%9D%83%E9%99%90/9BDC3116-ECD2-4380-806A-D8F999C7B75A.png)
### 4-7. æ­¤å¤„ä¸ä¼šï¼Œæš‚æ—¶æç½®ï¼Œæ²¡ç†è§£é¢˜ç›®ä»€ä¹ˆæ„æ€ï¼Œå¦‚æœä½ æœ‰ç­”æ¡ˆæ¬¢è¿æäº¤ï¼Œè°¢è°¢ï¼ã€todoã€‘

## p81
### 1.ç•¥
### 2.æŸ¥çœ‹jobs
![](Chapter5%20%E6%9D%83%E9%99%90/84E43FD9-AAD3-4714-AA08-3C1035D74C4A.png)
### 3.ä¸èƒ½ï¼Œæ­¤æ—¶å¤„äºbashçŠ¶æ€
### 4.æ²¡æœ‰ä½œç”¨ï¼Œå› ä¸ºå‘½ä»¤ååŠ ä¸Š&å±äºåå°è¿›ç¨‹
### 5.å¯ä»¥çœ‹åˆ°
&>å¯ä»¥å°†é”™è¯¯ä¿¡æ¯æˆ–è€…æ™®é€šä¿¡æ¯éƒ½é‡å®šå‘è¾“å‡º
![](Chapter5%20%E6%9D%83%E9%99%90/DF9DA720-FB25-4959-AF6D-82EFDB8830BE.png)
### 6.åœ¨è¿è¡Œä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º
![](Chapter5%20%E6%9D%83%E9%99%90/E8872B71-5954-48EE-9C45-148B7A4433A8.png)
### 7.bg %n næ˜¯ç¬¬å‡ ä¸ªjob
### 8.å¯å‘ç°vimç½®äºäº†åå°
![](Chapter5%20%E6%9D%83%E9%99%90/D66ADCD7-BF5E-4301-881B-F1436C98E382.png)
### 9.ç›´æ¥è¾“å…¥fgå¯é»˜è®¤å°†ç¬¬ä¸€ä¸ªè¿›ç¨‹è°ƒå…¥å‰å°
### 10.æ˜¾ç¤ºå¦‚ä¸‹
![](Chapter5%20%E6%9D%83%E9%99%90/225ED6A6-ACC5-465F-B451-87749ED0F0E3.png)

ç­”æ¡ˆå‚è€ƒ[linuxåå°è¿è¡Œå’Œå…³é—­ã€æŸ¥çœ‹åå°ä»»åŠ¡ - jihite - åšå®¢å›­](https://www.cnblogs.com/kaituorensheng/p/3980334.html)

## p83
1. ç•¥
2. ç•¥
3. å‘ç°å¤šäº†psswdè¿›ç¨‹ï¼Œè¿™ä¸ªè¿›ç¨‹ç»§æ‰¿äºbash,è€Œä¸”ä»¥rootå½¢å¼è¿è¡Œ
![](Chapter5%20%E6%9D%83%E9%99%90/1C2E963F-2B88-493E-BA3C-706325B97C19.png)

(æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰pstreeå‘½ä»¤ï¼Œéœ€è¦å®‰è£…yum install psmisc)
4. æ­¤æ—¶è¾“å…¥fg %1æ‹‰åˆ°å‰å°
![](Chapter5%20%E6%9D%83%E9%99%90/F04CE741-9B9C-41A1-B924-F9412E35526C.png)

## p83
Centos7 ä¸æ”¯æŒlocateï¼Œéœ€è¦å®‰è£…yum install mlocateï¼Œç„¶åå‘½ä»¤ updatedbï¼ˆå¦åˆ™ä¼šå‡ºç°locate: can not stat () `/var/lib/mlocate/mlocate.db': No such file or directoryï¼‰
1. è¾“å…¥locate passwdï¼Œä»¥ä¸‹æˆªå›¾åªæ˜¾ç¤ºäº†éƒ¨åˆ†
![](Chapter5%20%E6%9D%83%E9%99%90/D5E0C38D-37B6-44E0-9D29-56136E5E1D65.png)
2. æŸ¥çœ‹æƒé™
![](Chapter5%20%E6%9D%83%E9%99%90/94E3ED67-A9B7-4065-99BC-74A5B60CFADC.png)
3. æ²¡æœ‰æƒé™
![](Chapter5%20%E6%9D%83%E9%99%90/B29269B1-F878-4D5D-BED9-7772E7156CD6.png)
4. which æ–‡ä»¶åç”¨æ¥æœç´¢æœç´¢å‘½ä»¤æ‰€åœ¨è·¯å¾„åŠåˆ«å
![](Chapter5%20%E6%9D%83%E9%99%90/86DB2EA4-ACF5-4786-AD8C-88AEA9888324.png)
5. æœ‰SGIDæƒé™æ ‡å¿—
![](Chapter5%20%E6%9D%83%E9%99%90/847F5F55-EEDF-4701-9AFA-D44B9A1A12B3.png)

## p84
1. å¯ä»¥çœ‹åˆ°ç¾¤ä¸»æƒé™æœ‰ä¸€ä¸ªsæ ‡è®° è€Œä¸”ç¬¬ä¸€ä¸ªæ•°å­—2ä»£è¡¨SGIDæ ‡è®°ä½
![](Chapter5%20%E6%9D%83%E9%99%90/BA316136-941F-4380-AFAD-53CC696A099C.png)
2. touch /tmp/fromroot ç¾¤ç»„åç§°æ˜¯root
![](Chapter5%20%E6%9D%83%E9%99%90/FAF8B5B4-0E95-45A8-9C1D-81AACA373F84.png)
3. ç¾¤ç»„åç§°å˜æˆäº†å’Œç›®å½•ä¸€æ ·çš„ï¼šsystemd-journal
![](Chapter5%20%E6%9D%83%E9%99%90/D905414C-46B0-4099-A8E6-8BD8F7212874.png)


## p85
1. xå˜æˆäº†t
![](Chapter5%20%E6%9D%83%E9%99%90/BCA2B4E3-B44B-46B2-858D-3E7B261687B5.png)
2. ç•¥
3. ç•¥
4. å¯ä»¥ï¼Œå› ä¸ºç›®å½•æœ‰xæƒé™è€Œä¸”æ–‡ä»¶æœ‰å¯è¯»å¯å†™æƒé™
5. ä¸èƒ½ï¼Œå› ä¸ºæœ‰SBITæ ‡è®°çš„æ–‡ä»¶ï¼Œåªæœ‰è‡ªå·±ä¸rootæœ‰åˆ é™¤æƒé™ï¼Œå…¶å®ƒï¼ˆè¿™é‡Œæ˜¯studentï¼‰æ²¡æœ‰åˆ é™¤æƒé™

## p86
ç•¥

## 5.4è¯¾åæ“ä½œç»ƒä¹ 
ç•¥